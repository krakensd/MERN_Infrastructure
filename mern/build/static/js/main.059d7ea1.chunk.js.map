{"version":3,"sources":["utilities/send-request.js","utilities/users-api.js","utilities/users-service.js","components/LoginForm/LoginForm.jsx","components/SignUpForm/SignUpForm.jsx","components/Logo/Logo.jsx","pages/AuthPage/AuthPage.jsx","utilities/items-api.js","utilities/orders-api.js","components/MenuListItem/MenuListItem.jsx","components/MenuList/MenuList.jsx","components/CategoryList/CategoryList.jsx","components/LineItem/LineItem.jsx","components/OrderDetail/OrderDetail.jsx","components/UserLogOut/UserLogOut.jsx","pages/NewOrderPage/NewOrderPage.jsx","components/OrderListItem/OrderListItem.jsx","components/OrderList/OrderList.jsx","pages/OrderHistoryPage/OrderHistoryPage.jsx","pages/App/App.jsx","index.js"],"names":["sendRequest","url","a","method","payload","options","headers","body","JSON","stringify","token","getToken","Authorization","fetch","res","ok","json","Error","BASE_URL","signUp","userData","login","credentials","usersAPI","localStorage","setItem","getUser","getItem","parse","atob","split","exp","Date","now","removeItem","user","LoginForm","setUser","useState","email","password","setCredentials","error","setError","handleChange","evt","target","name","value","preventDefault","usersService","className","onSubmit","autoComplete","type","onChange","required","SignUpForm","state","confirm","setState","handleSubmit","formData","props","disable","this","disabled","Component","Logo","AuthPage","showLogin","setShowLogin","onClick","getAll","getCart","addItemToCart","itemId","setItemQtyInCart","newQty","checkout","getOrderHistory","MenuListItem","menuItem","handleAddToOrder","emoji","price","toFixed","_id","MenuList","menuItems","items","map","item","CategoryList","categories","activeCat","setActiveCat","cats","cat","LineItem","lineItem","isPaid","handleChangeQty","style","justifyContent","qty","extPrice","OrderDetail","order","handleCheckout","lineItems","orderId","updatedAt","toLocaleDateString","length","totalQty","orderTotal","UserLogOut","NewOrderPage","setMenuItems","cart","setCart","categoriesRef","useRef","history","useHistory","ordersAPI","updatedCart","push","useEffect","itemsAPI","current","reduce","category","includes","getItems","to","filter","OrderListItem","isSelected","handleSelectOrder","OrderList","orders","activeOrder","orderItems","o","OrderHistoryPage","setOrders","setActiveOrder","fetchOrderHistory","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.059d7ea1.chunk.js","sourcesContent":["import { getToken } from './users-service';\n\nexport default async function sendRequest(url, method = 'GET', payload = null) {\n  // Fetch takes an optional options object as the 2nd argument\n  // used to include a data payload, set headers, etc. \n  const options = { method };\n  if (payload) {\n    options.headers = { 'Content-Type': 'application/json' };\n    options.body = JSON.stringify(payload);\n  }\n  const token = getToken();\n  if (token) {\n    // Ensure headers object exists\n    options.headers = options.headers || {};\n    // Add token to an Authorization header\n    // Prefacing with 'Bearer' is recommended in the HTTP specification\n    options.headers.Authorization = `Bearer ${token}`;\n  }\n  const res = await fetch(url, options);\n  // res.ok will be false if the status code set to 4xx in the controller action\n  if (res.ok) return res.json();\n  throw new Error('Bad Request');\n}","import sendRequest from './send-request';\n\nconst BASE_URL = '/api/users';\n\nexport function signUp(userData) {\n  return sendRequest(BASE_URL, 'POST', userData);\n}\n\nexport function login(credentials) {\n  return sendRequest(`${BASE_URL}/login`, 'POST', credentials);\n}\n\nexport function checkToken() {\n  return sendRequest(`${BASE_URL}/check-token`);\n}\n","import * as usersAPI from './users-api';\n\nexport async function signUp(userData) {\n  try {\n    // Delegate the network request code to the users-api.js\n    // service module which will ultimately return a JWT\n    const token = await usersAPI.signUp(userData);\n    // Persist the \"token\"\n    localStorage.setItem('token', token);\n    return getUser();\n  } catch {\n    throw new Error('Invalid Sign Up');\n  }\n}\n\nexport async function login(credentials) {\n  try {\n    const token = await usersAPI.login(credentials);\n    localStorage.setItem('token', token);\n    return getUser();\n  } catch {\n    throw new Error('Bad Credentials');\n  }\n}\n\nexport function logOut() {\n  localStorage.removeItem('token');\n}\n\nexport function checkToken() {\n  return usersAPI.checkToken()\n    .then(dateStr => new Date(dateStr));\n}\n\nexport function getToken() {\n  // getItem returns null if there's no string\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n  // Check if expired, remove if it is\n  const payload = JSON.parse(atob(token.split('.')[1]));\n  // A JWT's exp is expressed in seconds, not milliseconds, so convert\n  if (payload.exp < Date.now() / 1000) {\n    localStorage.removeItem('token');\n    return null;\n  }\n  return token;\n}\n\nexport function getUser() {\n  const token = getToken();\n  // If there's a token, return the user in the payload, otherwise return null\n  return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n}","import { useState } from 'react';\nimport * as usersService from '../../utilities/users-service';\n\nexport default function LoginForm({ setUser }) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n\n  function handleChange(evt) {\n    setCredentials({ ...credentials, [evt.target.name]: evt.target.value });\n    setError('');\n  }\n\n  async function handleSubmit(evt) {\n    // Prevent form from being submitted to the server\n    evt.preventDefault();\n    try {\n      // The promise returned by the signUp service method \n      // will resolve to the user object included in the\n      // payload of the JSON Web Token (JWT)\n      const user = await usersService.login(credentials);\n      setUser(user);\n    } catch {\n      setError('Log In Failed - Try Again');\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"form-container\" onSubmit={handleSubmit}>\n        <form autoComplete=\"off\" >\n          <label>Email</label>\n          <input type=\"text\" name=\"email\" value={credentials.email} onChange={handleChange} required />\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={credentials.password} onChange={handleChange} required />\n          <button type=\"submit\">LOG IN</button>\n        </form>\n      </div>\n      <p className=\"error-message\">&nbsp;{error}</p>\n    </div>\n  );\n}","import { Component } from 'react';\nimport { signUp } from '../../utilities/users-service';\n\nexport default class SignUpForm extends Component {\n  state = {\n    name: '',\n    email: '',\n    password: '',\n    confirm: '',\n    error: ''\n  };\n\n  handleChange = (evt) => {\n    // Unlike setSomeState in function components which\n    // REPLACE the state with the arg, setState in class components\n    // MERGE the provided object with the existing\n    // state object\n    this.setState({\n      [evt.target.name]: evt.target.value\n    });\n  };\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    try {\n      // We don't want to send the 'error' or the \n      // 'confirm state properties\n      const formData = {...this.state};\n      delete formData.error;\n      delete formData.confirm;\n      // The promise returned by the signUp service methods\n      // will resolve to the user object included in the\n      // payload of the JSON Web Token\n      const user = await signUp(formData);\n      // Baby step\n      this.props.setUser(user);\n    } catch {\n      // An error occurred\n      this.setState({ error: 'Sign Up Failed - Try Again'});\n    }\n  };\n\n  // Must override the render method\n  // The render method takes the place of \n  // a function component, in that its job\n  // is to return the UI as JSX\n  render() {\n    const disable = this.state.password !== this.state.confirm;\n    return (\n      <div>\n        <div className=\"form-container\">\n          <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n            <label>Name</label>\n            <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.handleChange} required />\n            <label>Email</label>\n            <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.handleChange} required />\n            <label>Password</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n            <label>Confirm</label>\n            <input type=\"password\" name=\"confirm\" value={this.state.confirm} onChange={this.handleChange} required />\n            <button type=\"submit\" disabled={disable}>SIGN UP</button>\n          </form>\n        </div>\n        <p className=\"error-message\">&nbsp;{this.state.error}</p>\n      </div>\n    );\n  }\n}","import './Logo.css';\n\nexport default function Logo() {\n  return (\n    <div className=\"Logo\">\n      <div>SEI</div>\n      <div>CAFE</div>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport './AuthPage.css';\nimport LoginForm from '../../components/LoginForm/LoginForm';\nimport SignUpForm from '../../components/SignUpForm/SignUpForm';\nimport Logo from '../../components/Logo/Logo';\n\nexport default function AuthPage({ setUser }) {\n  const [showLogin, setShowLogin] = useState(true);\n\n  return (\n    <main className=\"AuthPage\">\n      <div>\n        <Logo />\n        <h3 onClick={() => setShowLogin(!showLogin)}>{showLogin ? 'SIGN UP' : 'LOG IN'}</h3>\n      </div>\n      {showLogin ? <LoginForm setUser={setUser} /> : <SignUpForm setUser={setUser} />}\n    </main>\n  );\n}","import sendRequest from './send-request';\n\nconst BASE_URL = '/api/items';\n\nexport function getAll() {\n  return sendRequest(BASE_URL);\n}\n\nexport function getById(id) {\n  return sendRequest(`${BASE_URL}/${id}`);\n}\n","import sendRequest from './send-request';\n\nconst BASE_URL = '/api/orders';\n\n// Retrieve an unpaid order for the logged in user\nexport function getCart() {\n  return sendRequest(`${BASE_URL}/cart`);\n}\n\n// Add an item to the cart\nexport function addItemToCart(itemId) {\n  // Just send itemId for best security (no pricing)\n  return sendRequest(`${BASE_URL}/cart/items/${itemId}`, 'POST');\n}\n\n// Update the item's qty in the cart\n// Will add the item to the order if not currently in the cart\n// Sending info via the data payload instead of a long URL\nexport function setItemQtyInCart(itemId, newQty) {\n  return sendRequest(`${BASE_URL}/cart/qty`, 'PUT', { itemId, newQty });\n}\n\n// Updates the order's (cart's) isPaid property to true\nexport function checkout() {\n  // Changing data on the server, so make it a POST request\n  return sendRequest(`${BASE_URL}/cart/checkout`, 'POST');\n}\n\nexport function getOrderHistory() {\n  return sendRequest(`${BASE_URL}/history`);\n}\n","import './MenuListItem.css';\n\nexport default function MenuListItem({ menuItem, handleAddToOrder }) {\n  return (\n    <div className=\"MenuListItem\">\n      <div className=\"emoji flex-ctr-ctr\">{menuItem.emoji}</div>\n      <div className=\"name\">{menuItem.name}</div>\n      <div className=\"buy\">\n        <span>${menuItem.price.toFixed(2)}</span>\n        <button className=\"btn-sm\" onClick={() => handleAddToOrder(menuItem._id)}>\n          ADD\n        </button>\n      </div>\n    </div>\n  );\n}","import './MenuList.css';\nimport MenuListItem from '../MenuListItem/MenuListItem';\n\nexport default function MenuList({ menuItems, handleAddToOrder }) {\n  const items = menuItems.map(item =>\n    <MenuListItem\n      menuItem={item}\n      handleAddToOrder={handleAddToOrder}\n      key={item._id}\n    />\n  );\n  return (\n    <main className=\"MenuList\">\n      {items}\n    </main>\n  );\n}","import './CategoryList.css';\n\nexport default function CategoryList({ categories, activeCat, setActiveCat }) {\n  const cats = categories.map(cat =>\n    <li\n      key={cat}\n      className={cat === activeCat ? 'active' : ''}\n      // FYI, the below will also work, but will give a warning\n      // className={cat === activeCat && 'active'}\n      onClick={() => setActiveCat(cat)}\n    >\n      {cat}\n    </li>\n  );\n  return (\n    <ul className=\"CategoryList\">\n      {cats}\n    </ul>\n  );\n}\n","import './LineItem.css';\n\nexport default function LineItem({ lineItem, isPaid, handleChangeQty }) {\n  return (\n    <div className=\"LineItem\">\n      <div className=\"flex-ctr-ctr\">{lineItem.item.emoji}</div>\n      <div className=\"flex-ctr-ctr flex-col\">\n        <span className=\"align-ctr\">{lineItem.item.name}</span>\n        <span>{lineItem.item.price.toFixed(2)}</span>\n      </div>\n      <div className=\"qty\" style={{ justifyContent: isPaid && 'center' }}>\n        {!isPaid &&\n          <button\n            className=\"btn-xs\"\n            onClick={() => handleChangeQty(lineItem.item._id, lineItem.qty - 1)}\n            >âˆ’</button>\n          }\n        <span>{lineItem.qty}</span>\n        {!isPaid &&\n          <button\n            className=\"btn-xs\"\n            onClick={() => handleChangeQty(lineItem.item._id, lineItem.qty + 1)}\n          >+</button>\n        }\n      </div>\n      <div className=\"ext-price\">${lineItem.extPrice.toFixed(2)}</div>\n    </div>\n  );\n}","import './OrderDetail.css';\nimport LineItem from '../LineItem/LineItem';\n\n// Used to display the details of any order, including the cart (unpaid order)\nexport default function OrderDetail({ order, handleChangeQty, handleCheckout }) {\n  if (!order) return null;\n\n  const lineItems = order.lineItems.map(item =>\n    <LineItem\n      lineItem={item}\n      isPaid={order.isPaid}\n      handleChangeQty={handleChangeQty}\n      key={item._id}\n    />\n  );\n\n  return (\n    <div className=\"OrderDetail\">\n      <div className=\"section-heading\">\n        {order.isPaid ?\n          <span>ORDER <span className=\"smaller\">{order.orderId}</span></span>\n          :\n          <span>NEW ORDER</span>\n        }\n        <span>{new Date(order.updatedAt).toLocaleDateString()}</span>\n      </div>\n      <div className=\"line-item-container flex-ctr-ctr flex-col scroll-y\">\n        {lineItems.length ?\n          <>\n            {lineItems}\n            <section className=\"total\">\n              {order.isPaid ?\n                <span className=\"right\">TOTAL&nbsp;&nbsp;</span>\n                :\n                <button\n                  className=\"btn-sm\"\n                  onClick={handleCheckout}\n                  disabled={!lineItems.length}\n                >CHECKOUT</button>\n              }\n              <span>{order.totalQty}</span>\n              <span className=\"right\">${order.orderTotal.toFixed(2)}</span>\n            </section>\n          </>\n          :\n          <div className=\"hungry\">Hungry?</div>\n        }\n      </div>\n    </div>\n  );\n}","import './UserLogOut.css';\nimport { logOut } from '../../utilities/users-service';\n\nexport default function UserLogOut({ user, setUser }) {\n  function handleLogOut() {\n    logOut();\n    setUser(null);\n  }\n\n  return (\n    <div className=\"UserLogOut\">\n      <div>{user.name}</div>\n      <div className=\"email\">{user.email}</div>\n      <button className=\"btn-sm\" onClick={handleLogOut}>LOG OUT</button>\n    </div>\n  );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport * as itemsAPI from '../../utilities/items-api';\nimport * as ordersAPI from '../../utilities/orders-api';\nimport './NewOrderPage.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport Logo from '../../components/Logo/Logo';\nimport MenuList from '../../components/MenuList/MenuList';\nimport CategoryList from '../../components/CategoryList/CategoryList';\nimport OrderDetail from '../../components/OrderDetail/OrderDetail';\nimport UserLogOut from '../../components/UserLogOut/UserLogOut';\n\nexport default function NewOrderPage({ user, setUser }) {\n  const [menuItems, setMenuItems] = useState([]);\n  const [activeCat, setActiveCat] = useState('');\n  const [cart, setCart] = useState(null);\n  const categoriesRef = useRef([]);\n  const history = useHistory();\n\n  useEffect(function() {\n    async function getItems() {\n      const items = await itemsAPI.getAll();\n      categoriesRef.current = items.reduce((cats, item) => {\n        const cat = item.category.name;\n        return cats.includes(cat) ? cats : [...cats, cat];\n      }, []);\n      setMenuItems(items);\n      setActiveCat(categoriesRef.current[0]);\n    }\n    getItems();\n\n    // Sometimes using .then can be cool/concise\n    // ordersAPI.getCart().then(cart => setCart(cart));\n    async function getCart() {\n      const cart = await ordersAPI.getCart();\n      setCart(cart);\n    }\n    getCart();\n  }, []);  // an empty dependency array will run the effect after the first render only\n\n  /*--- Event Handlers ---*/\n  async function handleAddToOrder(itemId) {\n    // Call the addItemToCart function in ordersAPI, passing to it the itemId, and assign the resolved promise to a variable named cart.\n    const updatedCart = await ordersAPI.addItemToCart(itemId);\n    // Update the cart state with the updated cart received from the server\n    setCart(updatedCart);\n  }\n\n  async function handleChangeQty(itemId, newQty) {\n    const updatedCart = await ordersAPI.setItemQtyInCart(itemId, newQty);\n    setCart(updatedCart);\n  }\n\n  async function handleCheckout() {\n    await ordersAPI.checkout();\n    history.push('/orders');\n  }\n\n  return (\n    <main className=\"NewOrderPage\">\n      <aside>\n        <Logo />\n        <CategoryList\n          categories={categoriesRef.current}\n          activeCat={activeCat}\n          setActiveCat={setActiveCat}\n        />\n        <Link to=\"/orders\" className=\"button btn-sm\">PREVIOUS ORDERS</Link>\n        <UserLogOut user={user} setUser={setUser} />\n      </aside>\n      <MenuList\n        menuItems={menuItems.filter(item => item.category.name === activeCat)}\n        handleAddToOrder={handleAddToOrder}\n      />\n      <OrderDetail\n        order={cart}\n        handleChangeQty={handleChangeQty}\n        handleCheckout={handleCheckout}\n      />\n    </main>\n  );\n}","import './OrderListItem.css';\n\nexport default function OrderListItem({ order, isSelected, handleSelectOrder }) {\n  return (\n    <div className={`OrderListItem${isSelected ? ' selected' : ''}`} onClick={() => handleSelectOrder(order)}>\n      <div>\n        <div>Order Id: <span className=\"smaller\">{order.orderId}</span></div>\n        <div className=\"smaller\">{new Date(order.updatedAt).toLocaleDateString()}</div>\n      </div>\n      <div className=\"align-rt\">\n        <div>${order.orderTotal.toFixed(2)}</div>\n        <div className=\"smaller\">{order.totalQty} Item{order.totalQty > 1 ? 's' : ''}</div>\n      </div>\n    </div>\n  );\n}","import OrderListItem from '../OrderListItem/OrderListItem';\nimport './OrderList.css';\n\nexport default function OrderList({ orders, activeOrder, handleSelectOrder }) {\n  const orderItems = orders.map(o =>\n    <OrderListItem\n      order={o}\n      isSelected={o === activeOrder} \n      handleSelectOrder={handleSelectOrder}\n      key={o._id}\n    />\n  );\n\n  return (\n    <main className=\"OrderList\">\n      {orderItems.length ?\n        orderItems\n        :\n        <span className=\"no-orders\">No Previous Orders</span>\n      }\n    </main>\n  );\n}","import './OrderHistoryPage.css';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as ordersAPI from '../../utilities/orders-api';\nimport Logo from '../../components/Logo/Logo';\nimport UserLogOut from '../../components/UserLogOut/UserLogOut';\nimport OrderList from '../../components/OrderList/OrderList';\nimport OrderDetail from '../../components/OrderDetail/OrderDetail';\n\nexport default function OrderHistoryPage({ user, setUser }) {\n  /*--- State --- */\n  const [orders, setOrders] = useState([]);\n  const [activeOrder, setActiveOrder] = useState(null);\n\n  /*--- Side Effects --- */\n  useEffect(function () {\n    // Load previous orders (paid)\n    async function fetchOrderHistory() {\n      const orders = await ordersAPI.getOrderHistory();\n      setOrders(orders);\n      // If no orders, activeOrder will be set to null below\n      setActiveOrder(orders[0] || null);\n    }\n    fetchOrderHistory();\n  }, []);\n\n  /*--- Event Handlers --- */\n  function handleSelectOrder(order) {\n    setActiveOrder(order);\n  }\n\n  /*--- Rendered UI --- */\n  return (\n    <main className=\"OrderHistoryPage\">\n      <aside>\n        <Logo />\n        <Link to=\"/orders/new\" className=\"button btn-sm\">NEW ORDER</Link>\n        <UserLogOut user={user} setUser={setUser} />\n      </aside>\n      <OrderList\n        orders={orders}\n        activeOrder={activeOrder}\n        handleSelectOrder={handleSelectOrder}\n      />\n      <OrderDetail\n        order={activeOrder}\n      />\n    </main>\n  );\n}","import { useState } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { getUser } from '../../utilities/users-service';\nimport AuthPage from '../AuthPage/AuthPage';\nimport NewOrderPage from '../NewOrderPage/NewOrderPage';\nimport OrderHistoryPage from '../OrderHistoryPage/OrderHistoryPage';\n\nexport default function App() {\n  const [user, setUser] = useState(getUser());\n\n  return (\n    <main className=\"App\">\n      { user ?\n        <>\n          <Switch>\n            <Route path=\"/orders/new\">\n              <NewOrderPage user={user} setUser={setUser} />\n            </Route>\n            <Route path=\"/orders\">\n              <OrderHistoryPage user={user} setUser={setUser} />\n            </Route>\n            <Redirect to=\"/orders\" />\n          </Switch>\n        </>\n        :\n        <AuthPage setUser={setUser} />\n      }\n    </main>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './pages/App/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router><App /></Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}